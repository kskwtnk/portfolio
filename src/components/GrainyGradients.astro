<canvas id="grainy-gradient-canvas" class="animation absolute inset-0 -z-10"
></canvas>

<script>
  import { createGranyGradients } from "../effects/granyGradients";

  // Draw canvas
  function drawGrainyGradients() {
    const canvasElement = document.getElementById("grainy-gradient-canvas");
    if (canvasElement instanceof HTMLCanvasElement) {
      createGranyGradients(canvasElement);
    }
  }

  drawGrainyGradients();

  document.addEventListener("astro:after-swap", drawGrainyGradients);
</script>

<style>
  @keyframes exit-animation {
    from {
      clip-path: inset(0% 0%);
    }
    to {
      clip-path: inset(25% 50% round 4rem);
    }
  }

  .animation {
    animation: exit-animation ease-in-out;
    animation-timeline: view();
    animation-range: exit 10% exit 100%;
  }
</style>
